<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: DBManager/DBManager.ts</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: DBManager/DBManager.ts</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import PouchDB from "pouchdb";
import { MindGraph } from "../dataStructure/mindGraph";
import Node from "../dataStructure/node";

// const dbPath:string= "/home/dustin/Documents/SRTP/reline/db";

class MGSManager {
    db:PouchDB.Database;

    mindGraphs:Array&lt;MindGraph>;

    /**
     * Construct a MGSManager with a given db
     * It could be a diftinition of db that
     * let db = new PouchDB('dbfile');
     * @param db DB
     */
    constructor(db:PouchDB.Database) {
        this.db = db;

        this.mindGraphs = [];
    }

    /**
     * load and check docs in this.db to this.mindGraph
     * @returns undefined
     */
    loadDB() {
        // TODO: check the doc is mindGraph with json schema
        this.db.allDocs({
            include_docs: true,
        }).then((data) => {
            this.mindGraphs = data.rows.map((row) => &lt;MindGraph>&lt;unknown>row.doc);
        }).catch((err) => {
            console.log(err);
        });
    }

    dumpDB() {

    }

    /**
     * Create and return an empty root Node.
     * @returns {Node} An empty node
     */
    static createRootNode():Node|null {
        return {
            label: "",
            metadata: {
                type: [""],
            },
        };
    }

    commit(){

    }

    deleteMG(){
        
    }
 
    deleteNode(){

    }
 
    getNode(){
        
    }
    insertRootNode(){

    }

    insertChildNode(){

    }
    toString(){

    }
    updateNode(){

    }


    getParentNode(){

    }

    getChildNodePosition(){

    }

    getChildNode(){

    }
}

export default MGSManager;

const pathD = new PouchDB("/home/dustin/Documents/SRTP/reline/db/mindGraph");

let a = new MGSManager(pathD);
a.loadDB();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-SidebarContainer.html">SidebarContainer</a></li></ul><h3>Namespaces</h3><ul><li><a href="RelineElementBaseUtil.html">RelineElementBaseUtil</a></li></ul><h3>Classes</h3><ul><li><a href="MGSManager.html">MGSManager</a></li><li><a href="module-SidebarContainer-SidebarContainer.html">SidebarContainer</a></li><li><a href="RelineNodeUtil.html">RelineNodeUtil</a></li><li><a href="RelineValidator.html">RelineValidator</a></li></ul><h3>Global</h3><ul><li><a href="global.html">FIELD_NAME_DUPLICATED</a></li><li><a href="global.html">FIELD_NAME_EMPTY</a></li><li><a href="global.html">FIELD_NAME_NOT_FOUNDED</a></li><li><a href="global.html">ID_EMPTY</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Feb 22 2022 13:50:06 GMT+0800 (China Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
